<div class="container-fluid" id = "container-fluid">
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for ="eventName">Form Name</label>
            <input class="form-control" type="text" name="eventName" id = "eventName" placeholder="Add the Event Name Here" required>
        </div>
    </div>
    <form name="dynamicForm" id="dynamicForm">
        <div class="form-row newfield">
            <div class="form-group col-md-6">
                <input type="text" class="form-control" name="field1" id = "field1" required> 
            </div>
            <div class="form-group col-md-3">
                <select name="fieldtype" id ="fieldtype" class="form-control custom-select" required>
                    <option value="text">Text</option>
                    <option vale="number">Number</option>
                    <option value="file">File</option>
                    <option value="textarea">Description Box</option>
                </select>
            </div>
        </div>
    </div>
    <div class="form-row text-center">
        <button class="btn btn-success text-center" name = "newField" id = "newField" style="margin: auto;">Add Field</button>
        <button class="btn btn-success text-center" name = "createLink" id = "createLink" style="margin:auto" data-toggle="modal" data-target="#exampleModal">Create Link</button> 
    </div>
    </form>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><span id="thisFormName"></span>Form Created</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
         <form name="createdForm" id = "createdForm" method = "POST">
            
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
<script>
    $('#newField').click(function(e){
        e.preventDefault();
        var flag = 0;
        $('input').each(function() {
            if(!$(this).val()){
                flag = 1;
            return false;
            }
        });
        if (flag==0){
            $('#dynamicForm').append(`<div class="form-row newfield">
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" name="field1" id = "field1"> 
                </div>
                <div class="form-group col-md-3">
                    <select name="fieldtype1" id ="fieldtype1" class="form-control custom-select">
                        <option value="text">Text</option>
                        <option vale="number">Number</option>
                        <option value="file">File</option>
                        <option value="textarea">Description Box</option>
                    </select>
                </div>
            </div>`);
        }
        else{
            alert("Please fill all fields!");
        }
    });
    const formItems = [];
    $('#createLink').click(function(e){
        e.preventDefault();
        $('input,select').each(function() {
            formItems.push($(this).val());
        });
        console.log(formItems);
        $('#thisFormName').html(formItems[0]);
        for (var i = 1;i<formItems.length;i++){
            $('#createdForm').append(`<div class="form-row newfield">
                <div class="form-group col-md-6">
                    <input type="text" class="form-control" name="field1" id = "field1"> 
                </div>
                <div class="form-group col-md-3">
                    <select name="fieldtype1" id ="fieldtype1" class="form-control custom-select">
                        <option value="text">Text</option>
                        <option vale="number">Number</option>
                        <option value="file">File</option>
                        <option value="textarea">Description Box</option>
                    </select>
                </div>
            </div>`
            );
        }

    });
</script>